{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/proxy.ts"],"sourcesContent":["import { createServerClient, type CookieOptions } from \"@supabase/ssr\";\r\nimport { type NextRequest, NextResponse } from \"next/server\";\r\n\r\nexport async function proxy(request: NextRequest) {\r\n  // Start with a \"pass-through\" response\r\n  let response = NextResponse.next({ request });\r\n\r\n  const supabase = createServerClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n    {\r\n      cookies: {\r\n        get(name: string) {\r\n          return request.cookies.get(name)?.value;\r\n        },\r\n        set(name: string, value: string, options: CookieOptions) {\r\n          response.cookies.set(name, value, options);\r\n        },\r\n        remove(name: string, options: CookieOptions) {\r\n          response.cookies.set(name, \"\", {\r\n            ...options,\r\n            maxAge: 0,\r\n          });\r\n        },\r\n      },\r\n    }\r\n  );\r\n\r\n  const {\r\n    data: { user },\r\n  } = await supabase.auth.getUser();\r\n\r\n  const pathname = request.nextUrl.pathname;\r\n  const isApiRoute = pathname.startsWith(\"/api\");\r\n\r\n  const isLoggedIn = Boolean(user?.id);\r\n  const isAuthPage = pathname.startsWith(\"/auth\");\r\n  const isLanding = pathname === \"/\";\r\n  const isOnboarding = pathname === \"/onboarding\";\r\n  const isProtectedPage = !isAuthPage && !isLanding && !isApiRoute && !isOnboarding;\r\n\r\n  // ðŸ”’ For API routes, don't do redirects â€“ let the route handlers respond with 401/403/etc.\r\n  if (isApiRoute) {\r\n    return response;\r\n  }\r\n\r\n  // Redirect logged-in users away from auth pages\r\n  if (isLoggedIn && isAuthPage) {\r\n    return NextResponse.redirect(new URL(\"/dashboard\", request.url));\r\n  }\r\n\r\n  // Redirect logged-out users away from protected pages\r\n  if (!isLoggedIn && isProtectedPage) {\r\n    return NextResponse.redirect(new URL(\"/\", request.url));\r\n  }\r\n\r\n  // Otherwise, just continue with updated cookies\r\n  return response;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AAAA;;;AAEO,eAAe,MAAM,OAAoB;IAC9C,uCAAuC;IACvC,IAAI,WAAW,gMAAY,CAAC,IAAI,CAAC;QAAE;IAAQ;IAE3C,MAAM,WAAW,IAAA,uMAAkB,sUAGjC;QACE,SAAS;YACP,KAAI,IAAY;gBACd,OAAO,QAAQ,OAAO,CAAC,GAAG,CAAC,OAAO;YACpC;YACA,KAAI,IAAY,EAAE,KAAa,EAAE,OAAsB;gBACrD,SAAS,OAAO,CAAC,GAAG,CAAC,MAAM,OAAO;YACpC;YACA,QAAO,IAAY,EAAE,OAAsB;gBACzC,SAAS,OAAO,CAAC,GAAG,CAAC,MAAM,IAAI;oBAC7B,GAAG,OAAO;oBACV,QAAQ;gBACV;YACF;QACF;IACF;IAGF,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAE/B,MAAM,WAAW,QAAQ,OAAO,CAAC,QAAQ;IACzC,MAAM,aAAa,SAAS,UAAU,CAAC;IAEvC,MAAM,aAAa,QAAQ,MAAM;IACjC,MAAM,aAAa,SAAS,UAAU,CAAC;IACvC,MAAM,YAAY,aAAa;IAC/B,MAAM,eAAe,aAAa;IAClC,MAAM,kBAAkB,CAAC,cAAc,CAAC,aAAa,CAAC,cAAc,CAAC;IAErE,2FAA2F;IAC3F,IAAI,YAAY;QACd,OAAO;IACT;IAEA,gDAAgD;IAChD,IAAI,cAAc,YAAY;QAC5B,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,cAAc,QAAQ,GAAG;IAChE;IAEA,sDAAsD;IACtD,IAAI,CAAC,cAAc,iBAAiB;QAClC,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,KAAK,QAAQ,GAAG;IACvD;IAEA,gDAAgD;IAChD,OAAO;AACT"}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { proxy } from \"./app/proxy\";\r\nimport type { NextRequest } from \"next/server\";\r\n\r\nexport function middleware(request: NextRequest) {\r\n  return proxy(request);\r\n}\r\n\r\nexport const config = {\r\n  matcher: [\r\n    // Run on everything except static assets & callback helpers\r\n    \"/((?!_next/static|_next/image|favicon.ico|auth/callback).*)\",\r\n  ],\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAGO,SAAS,WAAW,OAAoB;IAC7C,OAAO,IAAA,6HAAK,EAAC;AACf;AAEO,MAAM,SAAS;IACpB,SAAS;QACP,4DAA4D;QAC5D;KACD;AACH"}}]
}